* RISCV CALL OPTIMIZE

** FAR CALL

#+BEGIN_SRC asm
  # RANGE: PC +-2GiB
  # NEED 8 BYTES
  auipc x1, offset[31:12]
  jalr x1, x1, offset[11:0]
#+END_SRC

** NEARBY CALL

#+BEGIN_SRC asm
  # RANGE: PC +-1MiB
  # NEED 4 BYTES
  jal x1, offset
#+END_SRC

** REGISTER RELATED CALL

#+BEGIN_SRC asm
  # RANGE: REG +-1MiB
  # NEED 4 BYTES
  jalr x1, reg, offset
#+END_SRC

WE CAN USE A LOT OF GLOBAL POINTER REGISTERS TO OPTIMIZE FAR CALL INTO REGISTER RELATED CALL

BUT GNU GAS IS NOT SUPPORT THIS ACTION, WE MUST WRITE OWN ASSEMBLER

** COMPRESSED NEARLY CALL

#+BEGIN_SRC asm
  # RANGE: PC +-2KiB
  # NEED 2 BYTES
  c.jal (offset << 1)
#+END_SRC

** COMPRESSED REGISTER RELATED CALL

#+BEGIN_SRC asm
  # RANGE: REG +-0
  # NEED 2 BYTES
  c.jalr reg
#+END_SRC

SAME WITH: 'JALR x1, reg, 0'
